#summary Guide to setup LSM wrapper module.

= Introduction =

Add your content here.


= Details =

=LSM Wrapper requirements=
==Hardware requirements==
  * Virtuoso server
  * Rabbitmq server
  * Hadoop computer system (master, slaves)
  * Apache 7.2 server
==Library requirements==
Virtuoso Universal Server 6.3 (commercial or open source edition)
  * Apache Tomcat 7
  * Hadoop libs
  * JavaSE-1.6
  * RabbitMq client libs
  * Cqels libs
  * dom4j-1.6.1.jar, saxon9he.jar, jaxen-1.1-beta-7.jar
=Virtuoso for Linux (Enterprise Edition)=
==Before You Install==
To ensure a smooth installation, please review the following checklist before you start the setup program
===Have you downloaded the software?===
If you have not already done so, please download your copy of OpenLink Virtuoso from the Virtuoso web site. The URL is http://www.openlinksw.com/virtuoso/. When you visit the site, select "Software Download".
===Reinstalling Virtuoso?===

If you are reinstalling Virtuoso, you must first stop the Database Servers. You can shut these services down with the following command executed from your Linux shell prompt:

Beta 1 Users

     sh virtuoso-lite.rc stop

  or

     virtuoso-lite.rc stop

  or

     ./virtuoso-lite.rc stop

Beta 2 Users

     sh virtuoso-stop.sh

  or

     virtuoso-stop.sh

  or

     ./virtuoso-stop.sh

You may also want to first uninstall prior Virtuoso RPM packages.
The following command (executed as root) can be used to uninstall the package:

rpm -e virtuoso-lite-1.1-3_glibc2

  or

     rpm -e virtuoso-enterprise-1.1-3_glibc2
 
  or

     rpm -e virtuoso-lite-1.1-3_libc5

depending on Linux system and Virtuoso Server being used.
===Are ports 1111,1112, 8889 and 8890 free?===

During the installation you will be prompted for an HTTP port number for use by each Virtuoso System Manager. If you are already running a web server or other listener on that port, you will encounter problems, and should choose another free port when you are prompted.
By default, the Virtuoso DBMS listens on port 1111, and the Demo Database on 1112. If these ports is currently in use by another server then after the installation completes, you will need to change the port numbers in the Local Virtuoso ODBC or UDBC DSN that is created during the installation process, and also in the following file:

$<Directory where Virtuoso is installed>/bin/virtuoso.ini

typically

     /usr/local/virtuoso

but can of course be any location of your choosing.

To check if a port is in use you can use the following command, and review the output:

    netstat -an | more 
===Do you already have a "virtuoso" user account on your Linux system?===
Although this is no longer a requirement of the installation it may be suitable to create a new Virtuoso user account for administering the Virtuoso server.
===Do you already have functional iODBC data sources on your system?===
The OpenLink Virtuoso for Linux installation presumes the following:
 * You intend to connect to a Local Virtuoso server using iODBC or OpenLink UDBC
 * You intend to connect to one or more Remote Virtuoso servers on your network using iODBC or UDBC
 * You intend to Attach tables hosted within non-local or Remote Virtuoso database servers, into a Local or Remote Virtuoso Server
 * The existence of functional OpenLink or third-party iODBC drivers for Linux that connect to the non database servers referred to above.
 * In the absence of iODBC drivers for your non Virtuoso database, that a functional OpenLink or third-party UDBC Drivers exists for these database servers.

Instructions on how to manually configure iODBC Data Source Names is available at the following URL: 
http://www.openlinksw.com/info/docs/rel3doc/unix/odbcsdk.htm If you are using OpenLink Multi-Tier ODBC Drivers for your remote database connections then we highly recommend the use of the Virtuoso System Manager for creating iODBC Data Source Names.
===Are your iODBC Data Source Names functional?===
It is a useful sanity-check to ensure that your iODBC or UDBC data sources are functional, OpenLink provides an "odbctest" program for verifying basic usability of iODBC data sources. Both of these programs reside in the "samples" directory situated beneath the directory into which RPM installs Virtuoso.
==Installation Process==
Once you have downloaded the required tar file from the web or ftp site and have placed the file in a designated installation directory you are ready to commence the Virtuoso installation process.

You may want to specify a new user to own the Virtuoso installation and then you can place the installation tar file into that users home directory.
 * First step is to un-tar the file to obtain the install script and archive file. Use the following command:
    tar xvf <tar file>.tar

    replacing <tar file> with the relevant name of the file you downloaded.
 * Run the install script using the following command:
      [virtuoso@myserver virtuoso]$ sh /install.sh

   The installation process will now begin and prompt you for required information.
 *  The install script will first try and detect running Virtuoso server instances. In cases where an old Virtuoso server is being upgraded you must ensure that the old Virtuoso is first shutdown. It is advisable that you backup up your systems before continuing.
Checking requested components
Checking for existing installations and/or instances of Virtuoso...
      7269 ?        00:06:23 virtuoso

      /proc/net/tcp: Permission denied

      Alert: [running processes; ]

      Warning: You have Virtuoso previously installed on this machine.

      To avoid existing data being overwritten or lost, you may press ^C to

     exit this installer, terminate and remove the existing installation,
    or proceed taking care to enter non-conflicting data below, by pressing

   Enter.

If you are upgrading a server then the installer will save copies of old configuration data for later use.

     Preserving any existing configurations...

     find: db: No such file or directory

     find: demo: No such file or directory

     find: bin: No such file or directory

     0 blocks
 * You should have received a license file via email. This file should be copied to the server installation directory prior to installation. The installer will ask you for its location if none is found. If you do not have the license file at this time the installer will still continue.

     Checking licensing...

     A license file is required for the Virtuoso Server Instance(s) to
     start. Please enter the full path and name of a valid Virtuoso
     license file [./virtuoso.lic]:

 * Now the installer will continue to install files from the package. Every file installed will be echoed to the screen.
     Unpacking enterprise.tar.Z
     bin/
     bin/v27/
     bin/v27/bin/
     ...
     ...
     vsp/releasenotes.css
     vsp/releasenotes.html
     vsp/vsp_auth.sql
     ...done
 * When the files have been installed from the package the location supplied for the license file will be checked. If one is not found then you will receive the following warning:

           WARNING: The license file entered is not valid or does not exist.
           You will need to copy a valid license file manually
           to the demo and db directories after the Virtuoso        installation completes.

 * The Virtuoso server installation has a few variations. The next question from the installer asks which one you want to make default. Even though each variation is installed, a convenient symbolic link will be made to bin/virtuoso from the selected type. Running ls -l in the bin directory after installation will reveal all.
Checking for installed optional components...
Please choose which Virtuoso server you wish to install:
  # Universal Server
  # Universal Server with iODBC
  # Universal Server with iODBC and support for Java
  # Universal Server with iODBC and support for PHP
  # Universal Server with iODBC and support for Java and PHP
  # Universal Server with iODBC and support for CLR Hosting via Mono
  # Universal Server with iODBC and support for CLR and Java
  # Universal Server with iODBC and support for CLR, Java and PHP4

  [8] :
 * The installer will search for required third-party components depending on which option is selected in the previous step. For example, choosing the Virtuoso with Java support will require a Java runtime. Results of the search are listed as suggestions from which you can confirm or type the actual location.

     Attempting to locate the java runtime library (libjvm.so)...

     Suggested file locations:

     /usr/local/lib

     /usr/local/jdk1.3/jre/lib/i386/classic

     /usr/local/jdk1.3/jre/lib/i386/server

     /usr/local/jdk1.3/jre/lib/i386/client

     /usr/opt/blackdown-jdk-1.3.1/jre/lib/i386/classic

     /usr/opt/blackdown-jdk-1.3.1/jre/lib/i386/server

     /usr/opt/blackdown-jdk-1.3.1/jre/lib/i386/client

     /usr/local/jdk1.3/jre/lib/i386/classic

     /usr/local/jdk1.3/jre/lib/i386/server

     /usr/local/jdk1.3/jre/lib/i386/client

     Please select one of the above locations or press Enter to use
the default (/usr/local/jdk1.3/jre/lib/i386/client):
* The Virtuoso installer includes a Mono runtime distribution, since Mono is a developing platform you may have your own installation that you can supply the path to here.

     Please enter the full path to the Mono installation directory or
Enter to use the default (/home/openlink/virtuoso/mono)

* Virtuoso now has enough information to configure its environment and startup scripts.
     Setting up initial values in scripts and config files
     Setting up file bin/odbc.ini
     Setting up file bin/odbcinst.ini
     Setting up file bin/demo-start.sh
     Setting up file bin/demo-stop.sh
     Setting up file bin/virtuoso-start.sh
     Setting up file bin/virtuoso-stop.sh
     Setting up file db/virtuoso.ini
     Setting up file demo/demo.ini
     Setting up file mono/bin/mcs
     Setting up file virtuoso-enterprise.csh
     Setting up file virtuoso-enterprise.sh
     Setting up file initd_startup.template
     Setting up file initd_startup_demo.template
* The installer will now ask a series of questions for configuring the Virtuoso .INI files. First confirm or alter the default database SQL listener port number. This is the port number that this database will be available for ODBC connections and iSQL sessions.

     Configuring port numbers for default and demo databases

     Please enter a port on which to run the default database

     SQL listener (default 1111):
* Now you must specify the port number of the default database HTTP listener. This is the HTTP port that Virtuoso will listen on by default, you web-based administration interface for Virtuoso will be found here. If you confirm the default of 8889, then your Virtuoso will be available from: http://server:8889/, changing server to the name of your machine appropriately.

     Please enter a port on which to run the default database

     HTTP listener (default 8889):

* Now you must supply a friendly name that you wish to identify your Virtuoso server by on the network using Zero Configuration.

     See Also:

     The Zero Configuration section.

     Please enter a name for default database Zero Configuration
(default "Virtuoso Universal Server at myserver:1111"):
* The Zero Configuration details need a default username to make the connection with.
     Please enter a user name for default database Zero Configuration
     (default "dba"):
